<%- include('../partials/header') %>

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Kelola Pengguna</h1>
</div>

<div class="table-responsive">
    <table class="table table-striped table-sm">
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Saldo</th>
                <th>Role</th>
                <th>Tanggal Daftar</th>
                <th>Aksi</th>
            </tr>
        </thead>
        <tbody>
            <% if(users && users.length > 0) { %>
                <% users.forEach(user => { %>
                    <tr>
                        <td><%= user.username %></td>
                        <td><%= user.email %></td>
                        <td>Rp <%= user.balance.toLocaleString('id-ID') %></td>
                        <td>
                            <span class="badge bg-<%= user.role === 'admin' ? 'danger' : 'secondary' %>">
                                <%= user.role %>
                            </span>
                        </td>
                        <td><%= new Date(user.createdAt).toLocaleDateString('id-ID') %></td>
                        <td>
                            <button class="btn btn-sm btn-outline-secondary" disabled>Edit (Fitur Belum Ada)</button>
                        </td>
                    </tr>
                <% }) %>
            <% } else { %>
                <tr>
                    <td colspan="6" class="text-center">Belum ada pengguna.</td>
                </tr>
            <% } %>
        </tbody>
    </table>
</div>

<%- include('../partials/footer') %>